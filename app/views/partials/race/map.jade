div(data-ng-if="route.isVisible")
	google-map(center="route.center" options="route.options" zoom="route.zoom" refresh="true"  draggable="true" mark-click="true" style="height: 600px" events="route.events")
		
		markers(models="route.markers" coords="'self'" icon="'icon'" click="onMarkerClicked(marker)")
			marker(ng-repeat="marker in route.markers" coords="marker" icon="marker.icon" click="onMarkerClicked(marker)")
		
			marker(coords="cursorMarker" icon="cursorMarker.icon")
				
		polylinecustom(polylines="route.polylines")


	div(data-ng-show="route.editMode" style="padding: 5px; z-index: 0; position: absolute; top: 350px; right: 20px;")
		div.well
			form
				div(class="radio")
					label
						input(type="radio" data-ng-model="route.travelMode" ng-value="'DRIVING'" ) 
						span Suivre la route
				div(class="radio")
					label
						input(type="radio"  data-ng-model="route.travelMode" ng-value="'WALKING'") 
						span Suivre le chemin
				div(class="radio")
					label
						input(type="radio" data-ng-model="route.travelMode" ng-value="'NONE'") 
						span Segment direct
				div.button-group
					button.btn.btn-primary.btn-xs(data-ng-click="undo(route)")
						i.fa.fa-reply
						span Retour
					button.btn.btn-danger.btn-xs(data-ng-click="delete(route)")
						i.fa.fa-times
						span Effacer
				div
					h3 {{route.distance.toFixed(2)}} km
				div
					span D+: {{Math.floor(route.ascendant)}} m
				div
					span D-: {{Math.floor(route.descendant)}} m
				div
					span Max: {{Math.floor(route.maxElevation)}} m
				div
					span Min: {{Math.floor(route.minElevation)}} m
	highchart(data-ng-hide="route.type === 'Natation'" config="route.chartConfig")
