doctype html
html(ng-app="nextrunApp" class="no-js" prefix="og: http://ogp.me/ns#" ng-controller='MainController')

    <!-- build:js(client) client/scripts/widgets/google-analytics.min.js -->
    script(src="/widgets/google-analytics.js")
    <!-- endbuild -->

    head

        link(rel="icon" type="image/png" href="client//modules/main/images/logo_officiel.png")

        <!-- build:css(server/views) client/styles/vendor.min.css -->
        // bower:css
        link(rel='stylesheet' href='../../client/bower_components/bootstrap/dist/css/bootstrap.css')
        link(rel='stylesheet' href='../../client/bower_components/bootstrap-additions/dist/bootstrap-additions.min.css')
        link(rel='stylesheet' href='../../client/bower_components/font-awesome/css/font-awesome.css')
        link(rel='stylesheet' href='../../client/bower_components/angular-motion/dist/angular-motion.css')
        link(rel='stylesheet' href='../../client/bower_components/angular-ui-select/dist/select.css')
        // endbower
        <!-- endbuild -->

        <!-- build:css({.tmp,client}) client/styles/main.min.css -->
        link(rel="stylesheet" href="/styles/main.css")
        <!-- endbuild -->

        script(type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDO7NB1T_gtfTVVorh0jsUyaXNkWjHn958&sensor=false&v=3.17")

        <!-- build:js(server/views) client/scripts/vendor.min.js -->
        // bower:js
        script(src='../../client/bower_components/jquery/dist/jquery.js')
        script(src='../../client/bower_components/angular/angular.js')
        script(src='../../client/bower_components/angular-route/angular-route.js')
        script(src='../../client/bower_components/angular-cookies/angular-cookies.js')
        script(src='../../client/bower_components/angular-animate/angular-animate.js')
        script(src='../../client/bower_components/angular-bootstrap/ui-bootstrap-tpls.js')
        script(src='../../client/bower_components/angular-sanitize/angular-sanitize.js')
        script(src='../../client/bower_components/lodash/dist/lodash.compat.js')
        script(src='../../client/bower_components/angular-google-maps/dist/angular-google-maps.js')
        script(src='../../client/bower_components/angular-gettext/dist/angular-gettext.js')
        script(src='../../client/bower_components/AngularGM/angular-gm.js')
        script(src='../../client/bower_components/bootstrap/dist/js/bootstrap.js')
        script(src='../../client/bower_components/highcharts-release/highcharts.js')
        script(src='../../client/bower_components/highcharts-release/highcharts-more.js')
        script(src='../../client/bower_components/highcharts-release/modules/exporting.js')
        script(src='../../client/bower_components/highcharts-ng/dist/highcharts-ng.js')
        script(src='../../client/bower_components/moment/moment.js')
        script(src='../../client/bower_components/underscore/underscore.js')
        script(src='../../client/bower_components/x2js/xml2json.min.js')
        script(src='../../client/bower_components/angular-strap/dist/angular-strap.js')
        script(src='../../client/bower_components/angular-strap/dist/angular-strap.tpl.js')
        script(src='../../client/bower_components/textAngular/dist/textAngular.min.js')
        script(src='../../client/bower_components/angular-ui-select/dist/select.js')
        // endbower
        script(src='../../client/i18n/angular-locale_fr-fr.js')
        <!-- endbuild -->

        
        <!-- routingConfig.js is not minified and not concatenated -->
        script(src="/routingConfig.js")

        <!-- build:js(client) client/scripts/widgets/socialbuttons.min.js -->
        script(src="/widgets/socialbuttons.js")
        <!-- endbuild -->

        <!-- build:js(client) client/scripts/route.min.js -->
        script(src="/modules/route/scripts/route.js")
        script(src="/modules/route/scripts/services/elevationService.js")
        script(src="/modules/route/scripts/services/gpxService.js")
        script(src="/modules/route/scripts/services/markerService.js")
        script(src="/modules/route/scripts/services/polylineService.js")
        script(src="/modules/route/scripts/services/routeHelperService.js")
        script(src="/modules/route/scripts/services/routeService.js")
        script(src="/modules/route/scripts/services/routeUtilsService.js")
        script(src="/modules/route/scripts/services/segmentService.js")
        script(src="/modules/route/scripts/routeBuilder.js")
        <!-- endbuild -->

        <!-- build:js(client) client/scripts/auth.min.js -->
        script(src="/modules/auth/scripts/auth.js")
        script(src="/modules/auth/scripts/controllers/forgotPasswordModalController.js")
        script(src="/modules/auth/scripts/controllers/loginController.js")
        script(src="/modules/auth/scripts/controllers/settingsController.js")
        script(src="/modules/auth/scripts/controllers/signupController.js")
        <!-- endbuild -->

        <!-- build:js(client) client/scripts/home.min.js -->
        script(src="/modules/home/scripts/home.js")
        script(src="/modules/home/scripts/controllers/homeController.js")
        <!-- endbuild -->

        <!-- build:js(client) client/scripts/race.min.js -->
        script(src="/modules/race/scripts/race.js")
        script(src="/modules/race/scripts/controllers/changeTypeConfirmationModalController.js")
        script(src="/modules/race/scripts/controllers/createRaceController.js")
        script(src="/modules/race/scripts/controllers/deleteConfirmationModalController.js")
        script(src="/modules/race/scripts/controllers/editRaceController.js")
        script(src="/modules/race/scripts/controllers/feedbackModalController.js")
        script(src="/modules/race/scripts/controllers/myRacesController.js")
        script(src="/modules/race/scripts/controllers/raceHomeController.js")
        script(src="/modules/race/scripts/controllers/redirectionModalController.js")
        script(src="/modules/race/scripts/controllers/searchRaceController.js")
        script(src="/modules/race/scripts/controllers/viewRaceController.js")
        script(src="/modules/race/scripts/filters/distanceTypeFilter.js")
        <!-- endbuild -->

        <!-- build:js(client) client/scripts/commons.min.js -->
        script(src="/modules/commons/scripts/commons.js")
        script(src="/modules/commons/scripts/services/alertService.js")
        script(src="/modules/commons/scripts/services/authService.js")
        script(src="/modules/commons/scripts/services/contactService.js")
        script(src="/modules/commons/scripts/services/departmentEnum.js")
        script(src="/modules/commons/scripts/services/raceTypeEnum.js")
        script(src="/modules/commons/scripts/services/errorHandlerInterceptor.js")
        script(src="/modules/commons/scripts/services/facebookService.js")
        script(src="/modules/commons/scripts/services/fileReaderService.js")
        script(src="/modules/commons/scripts/services/gmapsApiService.js")
        script(src="/modules/commons/scripts/services/metaService.js")
        script(src="/modules/commons/scripts/services/raceService.js")
        script(src="/modules/commons/scripts/services/regionEnum.js")
        script(src="/modules/commons/scripts/services/restAPIHelper.js")
        script(src="/modules/commons/scripts/services/sharedCriteriaService.js")
        script(src="/modules/commons/scripts/services/sharedMetaService.js")
        script(src="/modules/commons/scripts/services/xmlService.js")
        script(src="/modules/commons/scripts/directives/fbLike.js")
        script(src="/modules/commons/scripts/directives/gmapsAutocompleteDirective.js")
        script(src="/modules/commons/scripts/directives/nrAddHttp.js")
        script(src="/modules/commons/scripts/directives/nrCheckListDirective.js")
        script(src="/modules/commons/scripts/directives/nrFileSelectDirective.js")
        script(src="/modules/commons/scripts/directives/nrHasLocationDirective.js")
        script(src="/modules/commons/scripts/directives/nrPasswordMatchDirective.js")
        script(src="/modules/commons/scripts/directives/nrPolylineDirective.js")
        script(src="/modules/commons/scripts/directives/nrTagListDirective.js")
        script(src="/modules/commons/scripts/templates/angular-bootstrap-tpls-overrides.js")
        <!-- endbuild -->

        <!-- build:js(client) client/scripts/main.min.js -->
        script(src="/modules/main/scripts/main.js")
        script(src="/modules/main/scripts/controllers/aboutController.js")
        script(src="/modules/main/scripts/controllers/contactController.js")
        script(src="/modules/main/scripts/controllers/creditController.js")
        script(src="/modules/main/scripts/controllers/footerController.js")
        script(src="/modules/main/scripts/controllers/headerController.js")
        script(src="/modules/main/scripts/controllers/mainController.js")
        <!-- endbuild -->

        script.
            moment.locale('fr');

    block head
        base(href="/")
    block meta
        meta(http-equiv="X-UA-Compatible" content="IE=edge")
        meta(charset="UTF-8")
        meta(name="viewport" content="width=device-width")

        meta(name='description' content="{{ogDescription}}")
        meta(name='keywords' content="{{'manifestation sportive, endurance, trail, triathlon, cyclosportive, vtt, cyclotourisme, cyclo, &eacute;preuve, ironman, longue distance, course &agrave; pied, parcours, d&eacute;nivel&eacute;, cross, marathon, duathlon, ski de fond, aquathlon' | translate}}")

        meta(property="og:title" content="{{ogTitle}}")
        meta(property="og:type" content="website")
        meta(property="og:image" content="http://www.nextrun.fr/img/logo_officiel.png")
        meta(property="og:url" content="{{ogUrl}}")
        meta(property="og:description" content="{{ogDescription}}")
        meta(name="fragment" content="!")
        meta(name="google-site-verification" content="XyiSoYfguJ-59aia60gM2hXqUantvQTg8eZ_dfKvqzg")
        meta(property="fb:app_id" content="195803770591615")
        meta(property="fb:admins" content="1320496159")

    block title
        title {{pageTitle}}

    block body

        body(data-status="{{status}}")

            div(id="wrap")

                div(id="fb-root")

                include ./layouts/header

                include ./layouts/messages

                div.ng-cloak(ng-cloak class="view-container")
                    div(id="main" ng-view class="view-frame ng-cloak")

            div.footer.ng-cloak(id="footer" ng-cloak ng-controller="FooterController")
                include ./layouts/footer