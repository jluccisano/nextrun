div.container
	div.container.bs-docs-container
		div.row
			div.col-lg-4
				div(role="complementary" class="bs-sidebar hidden-print" data-offset-top="-100" bs-affix)
					ul.nav.bs-sidenav
						li.active(bs-scrollspy data-target="#changeProfileTab")
							a(href="" ng-click="scrolltoHref('changeProfileTab')" translate) Modifier mon profil
						li(bs-scrollspy data-target="#changePasswordTab")
							a(href="" ng-click="scrolltoHref('changePasswordTab')" translate) Changer mon mot de passe
						li(bs-scrollspy data-target="#deleteAccountTab")
							a(href="" ng-click="scrolltoHref('deleteAccountTab')" translate) Supprimer mon compte
			div.col-lg-6(role="main")
				div.bs-docs-section
					div.page-header
						h1(id="changeProfileTab" translate) Modifier mon profil
					form(role="form" name="form1" ng-submit="updateProfile()" novalidate)

						div.form-group(ng-class="{'has-error': !form1.username.$pristine && form1.username.$invalid, 'has-success': !form1.username.$pristine && !form1.username.$invalid}")
							label.control-label(for="username" translate) Nom complet
							input.form-control(type="text" name="username" placeholder="{{'Nom complet' | translate }}" ng-model="user.username"  ng-minlength="4"  ng-maxlength="30" required)
							span.help-block(name="username-minLength" ng-show="form1.username.$dirty && form1.username.$error.minlength" translate) Le mot de passe doit contenir au minium 4 lettres.
							span.help-block(name="username-maxLength" ng-show="form1.username.$dirty && form1.username.$error.maxlength" translate) Le mot de passe doit contenir au maximm 16 lettres.
						
						div.form-group(ng-class="{'has-error': !form1.email.$pristine && form1.email.$invalid, 'has-success': !form1.email.$invalid && !form1.email.$pristine}")
							label.control-label(for="email" translate) Email
							input.form-control(type="email" name="email" placeholder="{{'Email' | translate }}" ng-model="user.email" required)
							span.help-block(name="email-invalid" ng-show="form1.email.$error.email" translate) Email invalide
						hr
						div.form-group.text-right
							button.btn.btn-primary(type="submit" name="submit" ng-disabled="form1.$invalid || isUnchanged(user)" translate) Enregistrer
				div.bs-docs-section
					div.page-header
						h1(id="changePasswordTab" translate)  Changer mon mot de passe
					form(role="form" name="form" ng-submit="updatePassword()")
						
						div.form-group(ng-class="{'has-error': !form.actualPassword.$pristine && form.actualPassword.$invalid, 'has-success': !form.actualPassword.$invalid && !form.actualPassword.$pristine}")
							label.control-label(type="password" for="actualPassword" translate) Mot de passe actuel
							input.form-control(type="password" name="actualPassword" placeholder="{{'Mot de passe actuel' | translate}}" ng-model="actualPassword" ng-minlength="4" ng-maxlength="8" required)
							span.help-block(name="actualPassword-minLength" ng-show="form.actualPassword.$dirty && form.actualPassword.$error.minlength" translate) Le mot de passe doit contenir au minium 4 lettres.
							span.help-block(name="actualPassword-maxLength" ng-show="form.actualPassword.$dirty && form.actualPassword.$error.maxlength" translate) Le mot de passe doit contenir au maximum 16 lettres.
						
						div.form-group(ng-class="{'has-error': !form.newPassword.$pristine && form.newPassword.$invalid, 'has-success': !form.newPassword.$invalid && !form.newPassword.$pristine}")
							label.control-label(type="password" for="newPassword" translate) Nouveau mot de passe
							input.form-control(type="password" name="newPassword" placeholder="{{'Nouveau mot de passe' | translate}}" ng-model="newPassword" match="confirmNewPassword" ng-minlength="4" ng-maxlength="8" required)
							span.help-block(name="newPassword-minLength" ng-show="form.newPassword.$dirty && form.newPassword.$error.minlength" translate) Le mot de passe doit contenir au minium 4 lettres.
							span.help-block(name="newPassword-maxLength" ng-show="form.newPassword.$dirty && form.newPassword.$error.maxlength" translate) Le mot de passe doit contenir au maximm 16 lettres.
						
						div.form-group(ng-class="{'has-error': !form.confirmNewPassword.$pristine && form.confirmNewPassword.$invalid, 'has-success': !form.confirmNewPassword.$error.match && !form.confirmNewPassword.$pristine}")
							label.control-label(for="confirmNewPassword" translate) Confirmer le mot de passe
							input.form-control(type="password" name="confirmNewPassword" placeholder="{{'Confirmer le mot de passe' | translate}}" nr-password-match="confirmNewPassword" ng-model="newPassword" required)
							span.help-block(name="confirmNewPassword-match" ng-show="form.confirmNewPassword.$dirty && form.confirmNewPassword.$error.nrPasswordMatch && !form.confirmNewPassword.$error.required" translate) Le mot de passe est différent
						hr
						div.form-group.text-right
							button.btn.btn-primary(type="submit" name="submit" ng-disabled="form.$invalid" translate) Enregistrer
				div.bs-docs-section
					div.page-header
						h1(id="deleteAccountTab" translate) Supprimer mon compte
					form(role="form" name="form3" ng-submit="deleteAccount()")
						div.bs-callout.bs-callout-danger
							h4 {{'Attention !' | translate}}
							p {{'Si vous souhaitez supprimer votre compte, tous les parcours que vous avez créé seront supprimés' | translate}}
						button.btn.btn-danger(type="submit" name="submit" translate) Supprimer mon compte